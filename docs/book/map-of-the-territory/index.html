<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-book/map-of-the-territory">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<title data-rh="true">Map of the territory | Grox</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grokking-vietnam.github.io//grox/docs/book/map-of-the-territory"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Map of the territory | Grox"><meta data-rh="true" name="description" content="Giới thiệu về các khái niệm căn bản, các giai đoạn thực thi của compiler."><meta data-rh="true" property="og:description" content="Giới thiệu về các khái niệm căn bản, các giai đoạn thực thi của compiler."><link data-rh="true" rel="icon" href="/grox/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://grokking-vietnam.github.io//grox/docs/book/map-of-the-territory"><link data-rh="true" rel="alternate" href="https://grokking-vietnam.github.io//grox/docs/book/map-of-the-territory" hreflang="en"><link data-rh="true" rel="alternate" href="https://grokking-vietnam.github.io//grox/docs/book/map-of-the-territory" hreflang="x-default"><link rel="stylesheet" href="/grox/assets/css/styles.e9faac98.css">
<link rel="preload" href="/grox/assets/js/runtime~main.2dc8c00c.js" as="script">
<link rel="preload" href="/grox/assets/js/main.b766cbac.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/grox/"><div class="navbar__logo"><img src="https://avatars.githubusercontent.com/u/9639466?s=45&amp;v=4" alt="Grox Language Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://avatars.githubusercontent.com/u/9639466?s=45&amp;v=4" alt="Grox Language Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Grox</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/grox/docs">Learn</a><a class="navbar__item navbar__link" href="/grox/playground">Playground</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/grokking-vietnam/grox" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grox/docs/">Mục lục</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grox/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/grox/docs/book/lox-language">Crafting Interpeters</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/grox/docs/book/lox-language">lox-language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/grox/docs/book/map-of-the-territory">Map of the territory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/grox/docs/book/scanning">Scanning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/grox/docs/book/representing-code">Representing Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/grox/docs/book/parsing-expression">Parsing Expression</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/grox/docs/fp/parser-combinators">Functional Programming</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grox/docs/resources">Resources</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/grox/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Crafting Interpeters</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Map of the territory</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Map of the territory</h1><p>Giới thiệu về các khái niệm căn bản, các giai đoạn thực thi của compiler.</p><ul><li><a href="#the-parts-of-a-language">The Parts of a Language</a><ul><li><a href="#scanning">Scanning/Lexing</a></li><li><a href="#parsing">Parsing</a></li><li><a href="#static-analysis">Static analysis</a></li><li><a href="#intermediate-representation">Intermediate representations</a></li><li><a href="#optimization">Optimization</a></li><li><a href="#code-generation">Code Generation</a></li><li><a href="#virtual-machine">Virtual Machine</a></li><li><a href="#runtime">Runtime</a></li></ul></li><li><a href="#shortcut-and-alternative-routes">Shortcut and alternative routes</a><ul><li><a href="#single-pass-compilers">Single-pass compilers</a></li><li><a href="#tree-walk-interpreters">Tree-walk interpreters</a></li><li><a href="#transpiler">Transpiler</a></li><li><a href="#just-in-time-compilation">Just-in-time compilation</a></li></ul></li><li><a href="#compilers-vs-interpreters">Compilers vs interpreters</a></li></ul><p><img loading="lazy" src="https://i.imgur.com/875BQl5.png" alt="The Map" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-parts-of-a-language">The Parts of a Language<a class="hash-link" href="#the-parts-of-a-language" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scanning">Scanning<a class="hash-link" href="#scanning" title="Direct link to heading">​</a></h3><p>Còn được gọi là lexing hoặc lexical analysis. Một scanner (hoặc lexer) nhận một string và chia nhỏ nó thành một chuỗi của token.</p><p>Tokens có thể coi như &quot;từ&quot; và dấu câu, được dùng để tạo nên ngữ pháp của một ngôn ngữ.
<img loading="lazy" src="https://i.imgur.com/ETU1ZVC.png" alt="ex1" class="img_ev3q"></p><p>Fun fact: <strong>Lexical</strong> comes from the Greek root <strong>lex</strong>, meaning <strong>word</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parsing">Parsing<a class="hash-link" href="#parsing" title="Direct link to heading">​</a></h3><p>Parsers có đầu vào là một chuỗi token và trả về một cấu trúc dữ liệu kiểu cây thường được gọi là parse tree hoặc abstract syntax tree(AST) hoặc syntax trees. Thêm vào đó parsers còn có nhiệm vụ thông báo các lỗi ngữ pháp (syntax error) cho người dùng.</p><p>Đối chiếu với các ngôn ngữ nói thì, scanner sẽ chia nhỏ một đoạn văn thành từng từ, dấu câu; còn parser sẽ dựa vào đó mà phân tích ngữ pháp cả đoạn văn.</p><p><img loading="lazy" src="https://i.imgur.com/26k6LOJ.png" alt="AST" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="static-analysis">Static analysis<a class="hash-link" href="#static-analysis" title="Direct link to heading">​</a></h3><p>Dựa vào ASTs từ giai đoạn trước, phần này sẽ làm những công việc sau:</p><ul><li><strong>binding/resolution</strong>: với mỗi định danh(identifier; vd: tên biến hoặc tên hàm), chúng ta cần tìm nơi nó định nghĩa, nơi nó được sử dụng; phạm vi(scope) hợp lệ của nó.</li><li><strong>type checking</strong>: nếu một ngôn ngữ thuộc dạng staticallly typed; khi khai báo một biến bất kỳ, chúng ta phải xác định được type của biến đó. Và report type error khi cần thiết.</li><li>Sau khi phân tích xong, chúng ta sẽ lưu lại những thông tin cần thiết để phục vụ cho các giai đoạn tiếp theo. Có 3 cách lưu chính như sau:<ol><li>Chèn ngay vào ASTs dưới dạng <em>attributes</em></li><li>Lưu vào <a href="https://www.geeksforgeeks.org/symbol-table-compiler/" target="_blank" rel="noopener noreferrer">Symbol Table</a>; thông thường dành cho identifiers và giá trị của chúng.</li><li>Chuyển hẳn sang một cấu trúc AST mới có nhiều thông tin hơn.</li></ol></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a class="hash-link" href="#notes" title="Direct link to heading">​</a></h4><p>3 giai đoạn phía trên được gọi là phần front end của compiler. Các phần được trình bày tiếp theo được gọi là back end.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="intermediate-representation">Intermediate Representation<a class="hash-link" href="#intermediate-representation" title="Direct link to heading">​</a></h3><p>Có thể tưởng tượng compiler như một pipeline, gồm 2 giai đoạn (phase) lớn (front end và back end) và nhiều giai đoạn nhỏ. Output của phase này sẽ là input của phase kia.</p><p>Giai đoạn front end tập trung chủ yếu vào phần source code. Giai đoạn back end tập trung vào phần chạy chương trình (final architecture where the program will run). Ở giữa 2 giai đoạn đó thì code được lưu dưới dạng <em>intermediate representation(IR)</em>. IR sẽ không gắn chặt với input (vd: source code) hay output (vd: binary code) của compiler. Có thể coi IR như một interface giữa 2 ngôn ngữ đó.</p><p>Nhờ vào IR, mà chúng ta có thể support nhiều runtime một cách dễ dàng: dùng chung 1 front end, và mỗi runtime khác nhau sẽ có backend của riêng nó.</p><p>Ví dụ như Kotlin, Scala đều có thể chạy trên 3 runtime khác nhau: JVM, Javascript, Native. Hoặc <a href="https://en.wikipedia.org/wiki/GNU_Compiler_Collection" target="_blank" rel="noopener noreferrer">GCC</a> có thể biên dịch hàng tá ngôn ngữ và có thể target trên dưới 100 architectures khác nhau.</p><p>IR có 4 styles chính:</p><ul><li>control flow graph</li><li>static single-assignment</li><li>continuation-passing style</li><li>three-address code</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimization">Optimization<a class="hash-link" href="#optimization" title="Direct link to heading">​</a></h3><p>Sau khi có đủ hiểu biết về chương trình đang được compile, thì chúng ta có thể tối ưu nó bằng cách thay chương trình này bằng một chương trình khác có cùng ngữ nghĩa(same semantics - same input same output) nhưng hiệu quả hơn.</p><p>Ví dụ đơn giản nhất là <strong>constant folding</strong>, nếu một biểu thức luôn luôn cho ra một kết quả duy nhất; thì chúng ta có thể dùng kết quả nhận được để thay thế cho biểu thức đó trong quá trình compile.</p><p><code>pennyArea = 3.14159 * (0.75 / 2) * (0.75 / 2);</code></p><p>Có thể thay thế bằng</p><p><code>pennyArea = 0.4417860938;</code></p><p>Optimization là một nhánh lớn trong mảng programming language, nhưng sẽ không được đi sâu vào trong quyển sách này. Sau đây là một số keyword để tìm hiểu thêm về nó: “constant propagation”, “common subexpression elimination”, “loop invariant code motion”, “global value numbering”, “strength reduction”, “scalar replacement of aggregates”, “dead code elimination”, “loop unrolling”.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-generation">Code generation<a class="hash-link" href="#code-generation" title="Direct link to heading">​</a></h3><p>Bước cuối cùng, sau khi optimization hoàn thành, chuyển IR sang một dạng code mà máy có thể chạy được. Bước này còn gọi là <strong>Code Generation</strong> (hoặc <strong>code gen</strong>); Code ở đây là code dành cho máy (vd: dạng assembly hoặc byte code trên virtual machine), không phải code dành <em>người</em> đọc và viết.</p><p>Chúng ta có một số lựa chọn cho <strong>code</strong> ở đây:</p><ul><li>CPU instruction: Code có thể chạy cực nhanh, nhưng phức tạp và tốn rất nhiều công để viết.</li><li>Bytecode chạy trên virtual machine (được gọi là bytecode vì mỗi instruction đều có độ dài là một byte): Có thể support nhiều cpu architecture dễ dàng hơn nhưng lại phải maintain virtual machine và tốc độ có thể không nhanh bằng cách trước. (Chúng ta sẽ chọn phương án này)</li><li>Cũng là bytecode nhưng thay vì dùng virtual machine, chúng ta sẽ viết một mini-compiler cho mỗi một architecture để chuyển bytecode sang native code. Hay nói cách khác là chúng ta sử dụng bytecode như một IR.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-machine">Virtual machine<a class="hash-link" href="#virtual-machine" title="Direct link to heading">​</a></h3><p><strong>Virtual machine</strong> (hoặc chính xác hơn là language virtual machines, gọi tắt là VM) là một chương trình có chạy một dạng byte code ở runtime. Code chạy trên VM sẽ chậm hơn trên native code nhưng công việc của compiler sẽ đơn giản hơn. Trong phần 2 của quyển sách này thì cũng ta sẽ implement một VM bằng C và nó sẽ có thể chạy trên tất cả các platfrom hỗ trợ C compiler.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime">Runtime<a class="hash-link" href="#runtime" title="Direct link to heading">​</a></h3><p>Ở đây chúng ta đã có một chương trình mà người dùng có thể sử dụng. Bước cuối cùng chạy chương trình đó. Nếu chúng ta compiled thành native code, thì operating system sẽ tải chương trình và chạy nó, nếu compiled thành bytecode thì chúng ta cần khởi động VM rồi tải chương trình trên cái VM đó.</p><p>Trong cả 2 trường hợp đó chúng ta vẫn cần phải một số services chạy ngầm để nhứ:</p><ul><li>Quản lý memory/gabarge collector</li><li>Nếu language hỗ trợ runtim checking (vd: <code>instance of</code>), chúng ta cần nắm được type của từng object trong cả quá trình thực thi.</li></ul><p>Tất cả những thứ đó được thực hiện trong lúc chạy chương trình nên được gọi là runtime.</p><p>Ở những ngôn ngữ được compile hoàn toàn thành native code, thì runtime được đính kèm luôn vào chương trình (vd như Golang).</p><p>Nếu một ngôn ngữ được chạy trong một interpreter hoặc VM thì runtime là một phần của interpreter/VM. Đa phần các ngôn ngữ được implement dưới dạng này: Java, Python, Javascript.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="shortcut-and-alternative-routes">Shortcut and alternative routes<a class="hash-link" href="#shortcut-and-alternative-routes" title="Direct link to heading">​</a></h2><p>Phần trên đã mô tả tất cả các bước mà chúng ta có thể phải implement. Rất nhiều ngôn ngữ được viết với đầy đủ các bước đó, nhưng cũng có một số con đường tắt và thay thế.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-pass-compilers">Single-pass compilers<a class="hash-link" href="#single-pass-compilers" title="Direct link to heading">​</a></h3><p>Có một số compiler gộp parsing, analysis và code generation lại làm một, thành ra output code được trực tiếp tạo ra từ parser. Chúng không sử dụng ASTs cũng như IRs trong quá trình biên dịch. Chúng được gọi là <strong>single-pass compilers</strong>.</p><p>Những <strong>single-pass compilers</strong> này sẽ có nhiều giới hạn:</p><ul><li>Không có một cấu trúc dữ liệu trung gian để lưu lại global information</li><li>Không thể quay lại các phần trước của chương trình. Nghĩa là khi compiler thấy một biểu thức nào đó thì nó phải có khả năng biên dịch biểu thức đó ngay.</li></ul><p>Pascal và C có chung những cái điểm yếu này, đó là lý do tại sao Pascal yêu cầu phải khai báo kiểu của biến ở đầu file; cũng như với C ta không thể gọi một function trước khi nó được khai báo (trừ khi ta khai báo function đó với forward declaration).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tree-walk-interpreters">Tree-walk interpreters<a class="hash-link" href="#tree-walk-interpreters" title="Direct link to heading">​</a></h3><p>Là những ngôn ngữ được thực thi sau khi có AST (có thể có thêm một ít static analysis). Để thực thi chương trình, intepreter duyệt từng node của AST, thay thế dần dần các node bằng kết quả tính được đến tận cùng. Đây cũng là cách chúng ta implement interpreter đầu tiên.</p><p>Notes: Những phiên bản đầu tiên của Ruby được implement dưới dạng này.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transpiler">Transpiler<a class="hash-link" href="#transpiler" title="Direct link to heading">​</a></h3><p>Khá là phổ biến hiện nay, đặc biệt với javascript là ngôn ngữ mục tiêu. Transpiler là một compiler biên dịch code từ ngôn ngữ này sang một ngôn ngữ khác, thường từ bậc cao (higher level) sang bậc thấp hơn (lower level).</p><p>Phần front end của những compiler này thì giống hệt các compiler khác. Sau đó tuỳ thuộc vào sự khác nhau giữa hai ngôn ngữ, implementation của back end có thể rất khác nhau. Từ đơn giản chuyển thẳng từ AST sang target language hoặc bao gồm tất cả các bước kể trên.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="just-in-time-compilation">Just-in-time compilation<a class="hash-link" href="#just-in-time-compilation" title="Direct link to heading">​</a></h3><p>Cách nhanh nhất để thực thi code đó là biên dịch nó thành native code. Nhưng khi biên dịch thì chúng ta không biết được nó sẽ được chạy với kiểu architecture nào. Just-in-time (JIT) là một kỹ thuật cao cấp được để tối ưu hoá tốc độc của chương trình trong trường hợp này. JIT được sự dụng bởi Hotspot Java Virtual Machine (JVM), Microsoft&#x27;s Common Language Runtime (CLR) và đa số các trình biên dịch của Javascript.</p><p>Khi chương trình được tải lên - từ source trong trường hợp của Javascript hay từ bytecode như của JVM/CLR - thì JIT sẽ compile nó thành native code ngay lúc đó.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compilers-vs-interpreters">Compilers vs Interpreters<a class="hash-link" href="#compilers-vs-interpreters" title="Direct link to heading">​</a></h2><ul><li>Compiling (biên dịch) là quá trình chuyển đổi từ một ngôn ngữ lập trình sang một dạng mới: bytecode hoặc native code hoặc một ngôn ngữ khác.</li><li>Compiler thì chỉ có nhiệm vụ biên dịch</li><li>Intepreter thì có khả năng thực thi chường trình từ source code.</li></ul><p><img loading="lazy" src="https://i.imgur.com/LLvek2X.png" alt="venn" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/../grox-docs/target/mdoc/book/2-map-of-the-territory.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/grox/docs/book/lox-language"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">lox-language</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/grox/docs/book/scanning"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scanning</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-parts-of-a-language" class="table-of-contents__link toc-highlight">The Parts of a Language</a><ul><li><a href="#scanning" class="table-of-contents__link toc-highlight">Scanning</a></li><li><a href="#parsing" class="table-of-contents__link toc-highlight">Parsing</a></li><li><a href="#static-analysis" class="table-of-contents__link toc-highlight">Static analysis</a></li><li><a href="#intermediate-representation" class="table-of-contents__link toc-highlight">Intermediate Representation</a></li><li><a href="#optimization" class="table-of-contents__link toc-highlight">Optimization</a></li><li><a href="#code-generation" class="table-of-contents__link toc-highlight">Code generation</a></li><li><a href="#virtual-machine" class="table-of-contents__link toc-highlight">Virtual machine</a></li><li><a href="#runtime" class="table-of-contents__link toc-highlight">Runtime</a></li></ul></li><li><a href="#shortcut-and-alternative-routes" class="table-of-contents__link toc-highlight">Shortcut and alternative routes</a><ul><li><a href="#single-pass-compilers" class="table-of-contents__link toc-highlight">Single-pass compilers</a></li><li><a href="#tree-walk-interpreters" class="table-of-contents__link toc-highlight">Tree-walk interpreters</a></li><li><a href="#transpiler" class="table-of-contents__link toc-highlight">Transpiler</a></li><li><a href="#just-in-time-compilation" class="table-of-contents__link toc-highlight">Just-in-time compilation</a></li></ul></li><li><a href="#compilers-vs-interpreters" class="table-of-contents__link toc-highlight">Compilers vs Interpreters</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/grox/docs/introduction">The Grox Programming Language</a></li><li class="footer__item"><a class="footer__link-item" href="/grox/docs/resources">Resources</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.grokking.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grokking Vietnam<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/grokking.vietnam/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCH2gAK9r_7EbvyVt0z5VibQ/featured" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/grokking-vietnam/grox" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Grokking Vietnam. Built with Docusaurus.</div></div></div></footer></div>
<script src="/grox/assets/js/runtime~main.2dc8c00c.js"></script>
<script src="/grox/assets/js/main.b766cbac.js"></script>
</body>
</html>